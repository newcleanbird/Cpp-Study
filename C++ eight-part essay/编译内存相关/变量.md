# 变量
## 变量的区别
### 全局变量、局部变量、静态全局变量、静态局部变量的区别：
- 全局变量就是定义在函数外的变量。
- 局部变量就是函数内定义的变量。
- 静态变量就是加了static的变量。 例如：static int value = 1

### 各自存储的位置：
- 全局变量，存储在常量区（静态存储区）。
- 静态变量，存储在常量区（静态存储区）。
- 局部变量, 存储在栈区。

注意: 因为静态变量都在静态存储区（常量区），所以下次调用函数的时候还是能取到原来的值。

### 各自初始化的值：
- 局部变量, 存储在栈区。局部变量一般是不初始化的，
- 局部变量, 存储在栈区。全局变量和静态变量，都是初始化为0的，有一个初始值。
- 局部变量, 存储在栈区。如果是类变量，会调用默认构造函数初始化。

### 从作用域看：
C++ 变量根据定义的位置的不同的生命周期，具有不同的作用域，作用域可分为 6 种：全局作用域，局部作用域，语句作用域，类作用域，命名空间作用域和文件作用域。

- 全局变量：具有全局作用域。全局变量只需在一个源文件中定义，就可以作用于所有的源文件。当然，其他不包含全局变量定义的源文件需要用extern 关键字再次声明这个全局变量。会一直存在到程序结束。
- 静态全局变量：全局作用域+文件作用域，所以无法在其他文件中使用。它与全局变量的区别在于如果程序包含多个文件的话，它作用于定义它的文件里，不能作用到其它文件里，即被static 关键字修饰过的变量具有文件作用域。这样即使两个不同的源文件都定义了相同名字的静态全局变量，它们也是不同的变量。
- 局部变量：具有局部作用域。比如函数的参数，函数内的局部变量等等；它是自动对象（auto），在程序运行期间不是一直存在，而是只在函数执行期间存在，函数的一次调用执行结束后，变量被销毁，其所占用的内存也被收回。
- 静态局部变量：具有局部作用域。它只被初始化一次， 直到程序结束。自从第一次被初始化直到程序运行结束都一直存在，它和全局变量的区别在于全局变量对所有的函数都是可见的，而静态局部变量只对定义自己的函数体始终可见。

### 从分配内存空间看：
- 静态存储区：全局变量，静态局部变量，静态全局变量。
- 栈：局部变量。


### 各自的应用场景：
- 局部变量就是我们经常用的，进入函数，逐个构造，最后统一销毁。
- 全局变量主要是用来给不同的文件之间进行通信。
- 静态变量：只在本文件中使用，局部静态变量在函数内起作用，可以作为一个计数器。

```cpp
   void func(){
     static int count;
     count ++;
   }
   int main(int argc, char** argv){
     for(int i = 0; i < 10; i++)
       func();
   }
```

## 说说静态变量在代码执行的什么阶段进行初始化？
```cpp
static int value  //静态变量初始化语句
```

对于C语言： 静态变量和全局变量均在编译期进行初始化，即初始化发生在任何代码执行之前。
对于C++： 静态变量和全局变量仅当首次被使用的时候才进行初始化。

助记： 如果你使用过C/C++你会发现，C语言要求在程序的最开头声明全部的变量，而C++则可以随时使用随时声明；这个规律是不是和答案类似呢？


## 全局变量定义在头文件中有什么问题？
如果在头文件中定义全局变量，当该头文件被多个文件 include 时，该头文件中的全局变量就会被定义多次，导致重复定义，因此不能再头文件中定义全局变量。





